import collections
def solution(length, queries):
    colorMapping = {}
    colorNum = {}
    res = []
    for query in queries:
        coord = query[0]
        color = query[1]
        if coord in colorMapping:
            colorNum[colorMapping[coord]] -= 1
            if colorNum[colorMapping[coord]] == 0:
                colorNum.pop(colorMapping[coord])
            colorMapping[coord] = color
            
            if color in colorNum:
                colorNum[color] += 1
            else:
                colorNum[color] = 1
        else:
            colorMapping[coord] = color
            if color in colorNum:
                colorNum[color] += 1
            else:
                colorNum[color] = 1
        res.append(len(colorNum))
    return res
            