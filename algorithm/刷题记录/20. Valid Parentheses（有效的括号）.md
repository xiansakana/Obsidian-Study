---
title: 20. Valid Parentheses（有效的括号）
date: 2024-05-28T18:14:15Z
lastmod: 2024-07-02T12:49:58Z
---

[20. Valid Parentheses](https://leetcode.com/problems/valid-parentheses/)（[有效的括号](https://leetcode.cn/problems/valid-parentheses/)）

Given a string `s`​ containing just the characters `'('`​, `')'`​, `'{'`​, `'}'`​, `'['`​ and `']'`​, determine if the input string is valid.

An input string is valid if:

1. Open brackets must be closed by the same type of brackets.
2. Open brackets must be closed in the correct order.
3. Every close bracket has a corresponding open bracket of the same type.

给定一个只包括 `'('`​，`')'`​，`'{'`​，`'}'`​，`'['`​，`']'`​ 的字符串 `s`​ ，判断字符串是否有效。

有效字符串需满足：

1. 左括号必须用相同类型的右括号闭合。
2. 左括号必须以正确的顺序闭合。
3. 每个右括号都有一个对应的相同类型的左括号。

**Example 1:**

```python
Input: s = "()"
Output: true
```

**Example 2:**

```python
Input: s = "()[]{}"
Output: true
```

**Example 3:**

```python
Input: s = "(]"
Output: false
```

# JavaScript

```javascript
/**
 * @param {string} s
 * @return {boolean}
 */
var isValid = function(s) {
  const stack = []; // 用数组模拟栈
  // 定义左括号和右括号的对应关系
  const map = {
    '(': ')',
    '{': '}',
    '[': ']',
  };
  for (let i = 0; i < s.length; i++) {
    const char = s[i];
    if (map[char]) {
      // 如果是左括号，将其推入栈
      stack.push(char);
    } else {
      // 如果是右括号，检查是否与栈顶的左括号匹配
      const top = stack.pop();
      if (char !== map[top]) {
        return false; // 不匹配则字符串无效
      }
    }
  }
  // 最后，栈应该为空，如果不为空，说明有未闭合的括号
  return stack.length === 0;
};
```

# Java

```Java
class Solution {
    private static final Map<Character,Character> map = new HashMap<Character,Character>(){{
        put('{','}'); put('[',']'); put('(',')'); put('?','?');
    }};
    public boolean isValid(String s) {
        if(s.length() > 0 && !map.containsKey(s.charAt(0))) return false;
        LinkedList<Character> stack = new LinkedList<Character>() {{ add('?'); }};
        for(Character c : s.toCharArray()){
            if(map.containsKey(c)) stack.addLast(c);
            else if(map.get(stack.removeLast()) != c) return false;
        }
        return stack.size() == 1;
    }
}
```

# Python

```python
class Solution:
    def isValid(self, s: str) -> bool:
        dic = {'{': '}',  '[': ']', '(': ')', '?': '?'}
        stack = ['?']
        for c in s:
            if c in dic: stack.append(c)
            elif dic[stack.pop()] != c: return False 
        return len(stack) == 1
```

# 复杂度分析

时间复杂度：O(n)，其中 n 是字符串 s 的长度。  
空间复杂度 O(n)：哈希表和栈使用线性的空间大小。

‍
